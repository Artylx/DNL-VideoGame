<!DOCTYPE html>
<html>
    <head>
        <title>Game DNL</title>
    </head>
    <body>
        <p>Page example redirection</p>
        <p id="hash-info" style="display:none;color:green;font-weight:bold"></p>
        <p>
            <a href="#audio">Test #audio (click)</a>
            &nbsp;|&nbsp;
            <a href="#video">Test #video (click)</a>
        </p>
    </body>
    <script>
        // Detect if the current URL contains a hash and log or display it
        (function() {
            function showHashInfo(message) {
                var el = document.getElementById('hash-info');
                if (el) {
                    el.style.display = 'block';
                    el.textContent = message;
                }
            }

            if (window.location.hash) {
                var message = 'Hash détecté: ' + window.location.hash;
                console.log(message);
                showHashInfo(message);

                // Detect specifically "#audio" (or any fragment containing "audio")
                if (window.location.hash.toLowerCase().indexOf('#audio') !== -1 || window.location.hash.toLowerCase().indexOf('audio') !== -1) {
                    console.log('Fragment audio détecté dans l\'URL :', window.location.hash);
                }
            }

            // Listen for clicks on links to detect '#' in hrefs
            document.body.addEventListener('click', function(e) {
                var t = e.target;
                var a = t.closest ? t.closest('a') : null;
                if (a && a.href && a.href.indexOf('#') !== -1) {
                    console.log('Lien avec # cliqué:', a.href);
                    var frag = a.href.split('#')[1] || '';
                    if (frag.toLowerCase().indexOf('audio') !== -1) {
                        console.log('Lien cliqué avec fragment audio:', a.href);
                    }
                }
            });
        })();
    </script>
</html>